import{_,r as d,b as s,d as a,j as h,e as u,v as C,t as m,F as b,f as y,g as l,l as g}from"./index-DG90UNWf.js";const w=[{checked:!1,name:"Lidocaine",location:"Cabinet A1",amount:5},{checked:!1,name:"Propofol",location:"Cabinet I2",amount:50},{checked:!1,name:"Fentanyl",location:"Specialbox Opioids",amount:10},{checked:!1,name:"Remifentanil",location:"Specialbox Opioids",amount:50},{checked:!1,name:"Rocuronium",location:"Fridge A3",amount:5},{checked:!1,name:"Ephedrin",location:"Cabinet G2",amount:10},{checked:!1,name:"Phenylephrine",location:"Cabinet G4",amount:10},{checked:!1,name:"Ringer Acetate",location:"Cabinet K1",amount:1e3},{checked:!1,name:"Dexamethasone",location:"Cabinet E1",amount:1},{checked:!1,name:"Novalgin",location:"Cabinet C2",amount:2},{checked:!1,name:"Ondansetron",location:"Cabinet D2",amount:2},{checked:!1,name:"NaCl",location:"Cabinet K2",amount:200},{checked:!1,name:"Cefuroxim",location:"Cabinet B2",amount:0}],x={class:"view checklist-view"},A={class:"controls"},V=["disabled"],F={key:0,class:"muted"},N={class:"list"},S={key:0,class:"error"},E={key:1,class:"muted"},P={class:"row"},T=["onUpdate:modelValue"],B={class:"name"},D={class:"amount"},I={__name:"ChecklistView",setup(L){const r=d("/api/checklist"),c=d([]),n=d(""),i=d(!1);async function k(){n.value="",c.value=[];try{const e=w;if(Array.isArray(e))c.value=e.map(t=>({name:t.name??"",amount:t.amount??"",check:!!t.check}));else throw new Error("Invalid payload: expected an array")}catch(e){n.value=`Failed to load: ${e.message||e}`}}async function p(){n.value="",i.value=!0;try{const e=await fetch(r.value,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c.value)});if(!e.ok)throw new Error(`HTTP ${e.status}`)}catch(e){n.value=`Failed to save: ${e.message||e}`}finally{i.value=!1}}return(e,t)=>(l(),s("div",x,[t[2]||(t[2]=a("h1",null,"Checklist",-1)),a("section",A,[t[1]||(t[1]=a("label",{for:"endpoint"},"API endpoint",-1)),h(a("input",{id:"endpoint","onUpdate:modelValue":t[0]||(t[0]=o=>r.value=o),placeholder:"/api/checklist"},null,512),[[C,r.value]]),a("button",{onClick:k},"Load"),a("button",{onClick:p,disabled:i.value},"Save All",8,V),i.value?(l(),s("span",F,"Savingâ€¦")):u("",!0)]),a("section",N,[n.value?(l(),s("div",S,m(n.value),1)):u("",!0),c.value.length===0&&!n.value?(l(),s("div",E,"No items loaded. Click Load.")):u("",!0),a("ul",null,[(l(!0),s(b,null,y(c.value,(o,v)=>(l(),s("li",{key:v,class:"item"},[a("label",P,[h(a("input",{type:"checkbox","onUpdate:modelValue":f=>o.check=f},null,8,T),[[g,o.check]]),a("span",B,m(o.name),1),a("span",D,m(o.amount),1)])]))),128))])])]))}},U=_(I,[["__scopeId","data-v-0038fab4"]]);export{U as default};
